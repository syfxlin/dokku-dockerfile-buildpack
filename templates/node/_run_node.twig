{% if nodejs.cmd %}
CMD {{ nodejs.cmd is iterable ? (nodejs.cmd | json_encode) : nodejs.cmd }}
{% else %}
{% if 'package.json' | exists %}
{% if 'yarn.lock' | exists %}
CMD ["yarn", "start"]
{% else %}
CMD ["npm", "start"]
{% endif %}
{% else %}
{% if 'server.js' | exists %}
CMD ["node", "server.js"]
{% elseif 'app.js' | exists %}
CMD ["node", "app.js"]
{% elseif 'main.js' | exists %}
CMD ["node", "main.js"]
{% elseif 'index.js' | exists %}
CMD ["node", "index.js"]
{% else %}
CMD ["node"]
{% endif %}
{% endif %}
{% endif %}
